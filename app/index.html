<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Test Environment</title>
    <!-- side-comments -->
    <link rel="stylesheet" href="./vendors/side-comments/side-comments.css">
    <link rel="stylesheet" href="./vendors/side-comments/themes/default-theme.css">
    <!-- codemirror -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/lib/codemirror.min.css">
    <!-- codemirror themes -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/gruvbox-dark.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/material.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/seti.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/yeti.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/the-matrix.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/theme/idea.min.css">
    <!-- codemirror addon themes -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/dialog/dialog.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/lint/lint.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/scroll/simplescrollbars.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/search/matchesonscrollbar.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/foldgutter.min.css">
    <!-- semantic ui -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
    <!-- my style -->
    <link rel="stylesheet" href="./res/css/style.css">
</head>

<body>
    <div id="app">
        <checklist></checklist>
        <sui-grid :columns="3">
            <sui-grid-row>
                <sui-grid-column :width="3">
                    <sui-button-group>
                        <sui-button>Task</sui-button>
                        <sui-button>Faq</sui-button>
                    </sui-button-group>
                </sui-grid-column>
                <sui-grid-column :width=10>
                    <sui-button size="tiny" primary @click="addComment">addComment</sui-button>
                    <sui-button size="tiny" basic negative icon="trash" @click="deleteFatamorgana">deleteNonExistantComment</sui-button>
                </sui-grid-column>
                <sui-grid-column :width="3">
                    <sui-button>Checklist</sui-button>
                </sui-grid-column>
            </sui-grid-row>
            <sui-grid-row>
                <sui-grid-column :width="3" class="dark-background">
                    <tree-view></tree-view>
                </sui-grid-column>
                <sui-grid-column :width="10" class="remove-padding">
                    <code-editor></code-editor>
                </sui-grid-column>
                <sui-grid-column :width="3" class="light-dark-background">
                    <comments-display></comments-display>
                </sui-grid-column>
            </sui-grid-row>
        </sui-grid>
    </div>
    
    <script type="text/x-template" id="code-editor-component-template">
        <codemirror ref="cmEditor" v-model="code" :options="cmOption"></codemirror>
    </script>
    
    <script type="text/x-template" id="comments-marker-component-template">
        <div class="commentable-section" style="bottom: 20px">
            <div class="side-comment sidebar" :class="{active: isActive, 'has-comments': hasComments}">
                <a href="#" class="marker" @click.stop="markerClick">
                    <span>{{ amountOfComments }}</span>
                </a>
            </div>
        </div>
    </script>
    
    <script type="text/x-template" id="comments-display-component-template">
        <div>
            <div class="side-comment" :class="{active: isActive, 'has-comments': hasComments}" style="left: 0">
                <div class="comments-wrapper">
                    <ul class="comments">
                        <li v-for="comment in comments" :key="comment.id">
                            <div class="author-avatar">
                                <img :src="comment.authorAvatarUrl">
                            </div>
                            <a v-if="comment.authorUrl" class="author-name right-of-avatar" :href="comment.authorUrl">{{ comment.authorName }}</a>
                            <p v-else class="author-name right-of-avatar">{{ comment.authorName }}</p>
                            <p class="comment right-of-avatar">{{ comment.comment }}</p>
                            <a v-if="comment.authorId === currentUser.id" @click="deleteComment(comment.id)" href="#" class="action-link delete">Delete</a>
                        </li>
                    </ul>
                    <a v-show="!commentInputFormIsVisible" @click="showCommentForm" href="#" class="add-comment">Leave a comment</a>
                    <div v-show="commentInputFormIsVisible" class="comment-form" :class="{active: commentInputFormIsVisible}">
                        <div class="author-avatar">
                            <img :src="currentUser.avatarUrl">
                        </div>
                        <p class="author-name">{{ currentUser.name }}</p>
                        <input @keyup.esc="cancelCommentInput" @keyup.enter="postNewComment" ref="input" v-model.trim="newComment" type="text" class="comment-box right-of-avatar" placeholder="Leave a comment...">
                        <div class="actions right-of-avatar">
                            <a @click="postNewComment" href="#" class="action-link post">Post</a>
                            <a @click="cancelCommentInput" href="#" class="action-link cancel">Cancel</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
    
    <script type="text/x-template" id="tree-view-component-template">
        <sui-list inverted class="tree-view">
            <tree-item class="item" :item="treeData"></tree-item>
        </sui-list>
    </script>
    
    <script type="text/x-template" id="tree-item-component-template">
        <sui-list-item>
            <sui-list-icon inverted :class="{selected: isSelected, modified: item.isModified}" :name="iconName" @click="toggle"/>
            <sui-list-content>
                <sui-list-header :class="{selected: isSelected, modified: item.isModified}" @click="toggle">{{ item.name }}</sui-list-header>
                <sui-list-list v-show="isOpen" v-if="isFolder">
                    <tree-item class="item" v-for="(child, index) in item.children" key="index" :item="child"></tree-item>
                </sui-list-list>
            </sui-list-content>
        </sui-list-item>
    </script>
    
    <script type="text/x-template" id="checklist-component-template">
        <sui-segment raised class="checklist">
            <sui-segments>
                <sui-segment>
                    <sui-checkbox label="checkbox" />
                </sui-segment>
            </sui-segments>
        </sui-segment>
    </script>
    
    <!-- Vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- vue semantic ui -->
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui-vue@0.11.0/dist/umd/semantic-ui-vue.min.js"></script>
    <!-- side-comments -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <!-- codemirror base-->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/lib/codemirror.min.js"></script>
    <!-- codemirror addons -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/dialog/dialog.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/mode/meta.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/display/placeholder.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/lint/lint.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/lint/css-lint.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/lint/html-lint.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/lint/javascript-lint.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/lint/json-lint.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/scroll/simplescrollbars.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/scroll/annotatescrollbar.min.js"></script> <!-- depends on simplescrollbars -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/scroll/scrollpastend.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/search/searchcursor.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/search/match-highlighter.min.js"></script> <!-- depends on searchcursor, annontatescrollbar -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/search/matchesonscrollbar.min.js"></script> <!-- depends on match-highlighter, annontatescrollbar -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/selection/mark-selection.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/search/search.min.js"></script> <!-- depends on searchcursor, dialog -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/search/jump-to-line.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/foldcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/brace-fold.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/comment-fold.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/indent-fold.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/markdown-fold.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/xml-fold.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/addon/edit/matchtags.min.js"></script> <!-- depends on xml-fold -->
    <!-- codemirror modes -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.1/mode/javascript/javascript.js"></script>
    <!-- vue-codemirror -->
    <script src="https://cdn.jsdelivr.net/npm/vue-codemirror@4.0.6/dist/vue-codemirror.min.js"></script>
    <!-- app -->
    <script type="module" src="./res/js/VueApp.js"></script>
</body>
</html>